<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="template.js"></script>
    <script type="text/javascript" src="router.js"></script>
</head>

<body>
    <div class="searchBox">
        运动员：<input id="searchAthlete" type="search" placeholder="运动云名字">
        <button id="searchAthleteBtn">search</button>
    </div>
    <div class="searchBox">
        周公解梦：<input id="searchDearm" type="search" placeholder="关键词">
        <button id="searchDearmBtn">search</button>
    </div>
    <script type="text/javascript">
    searchAthleteBtn.onclick = function(){
        window.location.hash = '#/news?word='+searchAthlete.value;
    }
    searchDearmBtn.onclick = function(){
        window.location.hash = '#/dream?word='+searchDearm.value;
    }
    </script>
    <div id="routerContainer"></div>
    <script type="text/javascript">
    var router = new Router({
        container: 'routerContainer',
        cacheView: true,
        beforeFn: function() {
            console.log('beforeFn');
        },
        afterFn: function() {
            console.log('afterFn');
        },
    });
    router.when('/dream', {
        view: 'xx1.html',
        apis: {
            dreamInfo: {
                url: 'http://apis.baidu.com/txapi/dream/dream?word={word}',
                config: {
                    apikey: 'b540b1460446d5d645629317c84b714b'
                }
            },
        },
        styles: ['s1.css'],
    }).when('/news', {
        view: 'xx2.html',
        data:{
            existData:{
                name: 'xiaoming',
                age:18
            }
        },
        apis: {
            newsInfo: {
                url: 'http://apis.baidu.com/txapi/tiyu/tiyu?num=10&page=1&word={word}',
                config: {
                    apikey: 'b540b1460446d5d645629317c84b714b'
                }
            },
        },
        controllers: ['c1.js'],
        styles: ['s2.css'],
    }).when('/text', {
        view: 'xx3.html',
        styles: ['s3.css'],
    }).otherwise('/text').run()
    </script>
</body>

</html>

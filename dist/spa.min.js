!function(){function e(e){return e.replace(b,"").replace(y,",").replace(w,"").replace(E,"").replace(j,"").split(/^$|,+/)}function n(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function t(t,r){function i(e){return p+=e.split(/\n/).length-1,f&&(e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),e&&(e=$[1]+n(e)+$[2]+"\n"),e}function a(n){var t=p;if(s?n=s(n,r):o&&(n=n.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===n.indexOf("=")){var i=l&&!/^=[=#]/.test(n);if(n=n.replace(/^=[=#]?|[\s;]*$/g,""),i){var a=n.replace(/\s*\([^\)]+\)/,"");d[a]||/^(include|print)$/.test(a)||(n="$escape("+n+")")}else n="$string("+n+")";n=$[1]+n+$[2]}return o&&(n="$line="+t+";"+n),m(e(n),function(e){if(e&&!v[e]){var n;n="print"===e?y:"include"===e?w:d[e]?"$utils."+e:h[e]?"$helpers."+e:"$data."+e,E+=e+"="+n+",",v[e]=!0}}),n+"\n"}var o=r.debug,c=r.openTag,u=r.closeTag,s=r.parser,f=r.compress,l=r.escape,p=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,$=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=g?"$out+=text;return $out;":"$out.push(text);",y="function(){var text=''.concat.apply('',arguments);"+b+"}",w="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",E="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(o?"$line=0,":""),j=$[0],x="return new String("+$[3]+");";m(t.split(c),function(e){e=e.split(u);var n=e[0],t=e[1];1===e.length?j+=i(n):(j+=a(n),t&&(j+=i(t)))});var F=E+j+x;o&&(F="try{"+F+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+n(t)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}");try{var k=new Function("$data","$filename",F);return k.prototype=d,k}catch(T){throw T.temp="function anonymous($data,$filename) {"+F+"}",T}}var r=function(e,n){return"string"==typeof n?g(n,{filename:e}):o(e,n)};r.version="3.0.0",r.config=function(e,n){i[e]=n};var i=r.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=r.cache={};r.render=function(e,n){return g(e,n)};var o=r.renderFile=function(e,n){var t=r.get(e)||v({filename:e,name:"Render Error",message:"Template not found"});return n?t(n):t};r.get=function(e){var n;if(a[e])n=a[e];else if("object"==typeof document){var t=document.getElementById(e);if(t){var r=(t.value||t.innerHTML).replace(/^\s*|\s*$/g,"");n=g(r,{filename:e})}}return n};var c=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?c(e.call(e)):""),e},u={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},s=function(e){return u[e]},f=function(e){return c(e).replace(/&(?![\w#]+;)|[<>"']/g,s)},l=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},p=function(e,n){var t,r;if(l(e))for(t=0,r=e.length;r>t;t++)n.call(e,e[t],t,e);else for(t in e)n.call(e,e[t],t)},d=r.utils={$helpers:{},$include:o,$string:c,$escape:f,$each:p};r.helper=function(e,n){h[e]=n};var h=r.helpers=d.$helpers;r.onerror=function(e){var n="Template Error\n\n";for(var t in e)n+="<"+t+">\n"+e[t]+"\n\n";"object"==typeof console&&console.error(n)};var v=function(e){return r.onerror(e),function(){return"{Template Error}"}},g=r.compile=function(e,n){function r(t){try{return new u(t,c)+""}catch(r){return n.debug?v(r)():(n.debug=!0,g(e,n)(t))}}n=n||{};for(var o in i)void 0===n[o]&&(n[o]=i[o]);var c=n.filename;try{var u=t(e,n)}catch(s){return s.filename=c||"anonymous",s.name="Syntax Error",v(s)}return r.prototype=u.prototype,r.toString=function(){return u.toString()},c&&n.cache&&(a[c]=r),r},m=d.$each,$="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,y=/[^\w$]+/g,w=new RegExp(["\\b"+$.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),E=/^\d[^,]*|,\d[^,]*/g,j=/^,+|,+$/g;i.openTag="{{",i.closeTag="}}";var x=function(e,n){var t=n.split(":"),r=t.shift(),i=t.join(":")||"";return i&&(i=", "+i),"$helpers."+r+"("+e+i+")"};i.parser=function(e,n){e=e.replace(/^\s/,"");var t=e.split(" "),i=t.shift(),a=t.join(" ");switch(i){case"if":e="if("+a+"){";break;case"else":t="if"===t.shift()?" if("+t.join(" ")+")":"",e="}else"+t+"{";break;case"/if":e="}";break;case"each":var o=t[0]||"$data",c=t[1]||"as",u=t[2]||"$value",s=t[3]||"$index",f=u+","+s;"as"!==c&&(o="[]"),e="$each("+o+",function("+f+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=i+"("+t.join(",")+");";break;default:if(-1!==a.indexOf("|")){var l=n.escape;0===e.indexOf("#")&&(e=e.substr(1),l=!1);for(var p=0,d=e.split("|"),h=d.length,v=l?"$escape":"$string",g=v+"("+d[p++]+")";h>p;p++)g=x(g,d[p]);e="=#"+g}else e=r.helpers[i]?"=#"+i+"("+t.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return r}):"undefined"!=typeof exports?module.exports=r:this.template=r}(),!function(e){function n(){var e=f.parseHash(location.hash).path;e in s.configObj||""===s.defaultHash?(s.beforeFn&&s.beforeFn(),t(s.configObj[e])):location.hash="#"+s.defaultHash}function t(e){if(void 0===e.apis&&void 0===e.data&&l(e,{}),void 0===e.apis&&void 0!==e.data&&l(e,e.data),void 0!==e.apis){var n=o(e.data),t=o(e.apis),r=0,i=0,a=f.parseHash(location.hash).params,u={};for(var s in e.apis)i++,function(o){u=t[o];for(var s in a)u.url=t[o].url.replace("{"+s+"}",a[s]);c(u,function(t){n[o]=JSON.parse(t),++r===i&&l(e,n)})}(s)}}var r,i,a,o,c,u,s,f;o=function(e){var n={};for(var t in e)n[t]="object"==typeof e[t]?arguments.callee(e[t]):e[t];return n},a=function(e){return"[object Function]"==={}.toString.call(e)},r=function(){return window.addEventListener?function(e,n,t){e.addEventListener(n,t,!1)}:function(e,n,t){e.attachEvent("on"+n,function(){t.call(e)})}}(),i=function(){return window.removeEventListener?function(e,n,t){e.removeEventListener(n,t,!1)}:function(e,n,t){e.detachEvent("on"+n,t)}}(),c=function(e,n){var t=new XMLHttpRequest;t.onload=function(){n&&n(this.response)},t.open("GET",e.url,!0);for(var r in e.config)t.setRequestHeader(r,e.config[r]);t.send()},u=function(e,n){for(var t,r=0;t=e[r++];)n.removeChild(document.getElementById(t))},f=function(e){s=this,s.cacheView=e.cacheView||!1,s.container=document.getElementById(e.container),e.beforeFn&&(s.beforeFn=a(e.beforeFn)?e.beforeFn:console.error("beforeFn is not function")),e.afterFn&&(s.afterFn=a(e.afterFn)?e.afterFn:console.error("afterFn is not function")),s.configObj={},s.path=""},f.prototype.when=function(e,n){return s.configObj[e]=n,s},f.prototype.otherwise=function(e){if("string"!=typeof e||""===e)throw new Error("defaultHash should be string");return s.defaultHash=e,s},f.prototype.run=function(){r(window,"hashchange",function(){n()}),n()};var l=function(){function n(n,t,r){var i=e.compile(n),a=i(r);s.container.innerHTML=a,s.afterFn&&s.afterFn(),d(t.controllers||[]),p(t.styles||[])}var t={};return function(e,r){var i=e.view;if(s.cacheView&&i in t)return n(t[i],e,r);var a=new XMLHttpRequest;a.onload=function(){var a=this.response;n(a,e,r),t[i]=a},a.open("GET",i,!0),a.send()}}(),p=function(){var e=[];return function(n){var t,r=0;for(u(e,document.head),e=[];t=n[r++];)link=document.createElement("link"),link.type="text/css",link.rel="stylesheet",link.href=t,link.id=t,document.head.appendChild(link),e.push(t)}}(),d=function(){var e={};return function(n){for(var t,r=0;t=n[r++];)if(!(t in e)){var i=document.createElement("script");i.src=t,i.id=t,document.body.appendChild(i),e[t]=null}}}();f.parseHash=function(e){return{path:e.split("?").shift().substr(1),params:function(){var n={},t=[];if(1===e.split("?").length)return n;t=e.split("?").pop().split("&");for(var r=0;r<t.length;r++)n[t[r].split("=").shift()]=t[r].split("=").pop();return n}()}},function(){"undefined"!=typeof module&&"object"==typeof exports?module.exports=f:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return f}):window.Router=f}()}(template);